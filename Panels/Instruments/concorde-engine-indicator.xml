<?xml version="1.0"?>

<!-- Engine indicator lights :

     - secondary nozzle buckets within limits, and fuel flow above bug.
     - configuration doesn't exist in Flightgear.
     - reverser is not implemented by JBSim.
-->

<PropertyList>

 <name>Engine indicator lights</name>
 <w-base>90</w-base>
 <h-base>20</h-base>

 <params>
  <running-select>/engines/engine[0]/running</running-select>
  <bucket-select>/engines/engine[0]/bucket-deg</bucket-select>
  <reverser-select>/engines/engine[0]/reversed</reverser-select>
  <fuel-select>/engines/engine[0]/fuel-flow_pph</fuel-select>
  <bug-select>/engines/engine[0]/bug_pph</bug-select>
 </params>

 <layers>

<!-- GO LIGHT -->

 <layer>
  <name>go light</name>
   <type>switch</type>

   <layer>
    <name>Off</name>
    <condition>
     <or include="concorde-cond-voltage-bulb.xml">
      <and>
       <or include="concorde-cond-test-center.xml"/> <!-- bug -->
       <or>
        <not>
         <property alias="../../../../../../../../../params/running-select"/>
        </not>
        <greater-than>
         <property alias="../../../../../../../../../params/bucket-select"/>
         <value>21.0</value>
        </greater-than>
        <less-than>
         <property alias="../../../../../../../../../params/fuel-select"/>
         <property n="1" alias="../../../../../../../../../params/bug-select"/>
        </less-than>
        <not>
         <property>/instrumentation/takeoff-monitor/armed</property>
        </not>
       </or>
      </and>
     </or>
    </condition>
    <texture>
     <path>Aircraft/Concorde/Panels/Instruments/Textures/warning-lamps.rgb</path>
     <x1>0.0</x1>
     <y1>0.0</y1>
     <x2>0.25</x2>
     <y2>0.095</y2>
    </texture>
    <w>25</w>
    <h>19</h>
   </layer>

   <layer>
    <name>On</name>
    <texture>
     <path>Aircraft/Concorde/Panels/Instruments/Textures/warning-lamps.rgb</path>
     <x1>0.33</x1>
     <y1>0.0</y1>
     <x2>0.42</x2>
     <y2>0.095</y2>
    </texture>
    <w>25</w>
    <h>19</h>
   </layer>
  </layer>

  <layer>
   <name>background go</name>
   <texture>
    <path>Aircraft/Concorde/Panels/Instruments/Textures/concorde-green-warning.rgb</path>
   </texture>
    <w>25</w>
    <h>19</h>
  </layer>

<!-- CONFIGURATION -->

 <layer>
  <name>configuration light</name>
  <type>switch</type>

  <layer>
   <name>Off</name>
   <condition>
    <or include="concorde-cond-voltage-bulb.xml">
     <or include="concorde-cond-test-center.xml"/>
    </or>
   </condition>
   <texture>
    <path>Aircraft/Concorde/Panels/Instruments/Textures/warning-lamps.rgb</path>
    <x1>0.0</x1>
    <y1>0.0</y1>
    <x2>0.25</x2>
    <y2>0.095</y2>
   </texture>
   <w>25</w>
   <h>19</h>
  </layer>

  <layer>
   <name>On</name>
   <texture>
    <path>Aircraft/Concorde/Panels/Instruments/Textures/warning-lamps.rgb</path>
    <x1>0.33</x1>
    <y1>0.0</y1>
    <x2>0.42</x2>
    <y2>0.095</y2>
   </texture>
   <w>25</w>
   <h>19</h>
  </layer>
  <transformations>
   <transformation>
    <type>x-shift</type>
    <offset>25</offset>
   </transformation>
  </transformations>
 </layer>

  <layer>
   <name>background configuration</name>
   <texture>
    <path>Aircraft/Concorde/Panels/Instruments/Textures/concorde-amber-con.rgb</path>
    <x1>0.0</x1>
    <y1>0.1</y1>
    <x2>1.0</x2>
    <y2>0.9</y2>
   </texture>
    <w>25</w>
    <h>19</h>
   <transformations>
    <transformation>
     <type>x-shift</type>
     <offset>25</offset>
    </transformation>
   </transformations>
  </layer>

<!-- REVERSER -->

 <layer>
  <name>reverser light</name>
  <type>switch</type>

  <layer>
   <name>Off</name>
   <condition>
    <or include="concorde-cond-voltage-bulb.xml">
     <and>
      <or include="concorde-cond-test-center.xml"/> <!-- bug -->
      <not>
       <property alias="../../../../../../../../params/reverser-select"/>
      </not>
     </and>
    </or>
   </condition>
   <texture>
    <path>Aircraft/Concorde/Panels/Instruments/Textures/warning-lamps.rgb</path>
    <x1>0.0</x1>
    <y1>0.0</y1>
    <x2>0.25</x2>
    <y2>0.095</y2>
   </texture>
   <w>25</w>
   <h>19</h>
  </layer>

  <layer>
   <name>On</name>
   <texture>
    <path>Aircraft/Concorde/Panels/Instruments/Textures/warning-lamps.rgb</path>
    <x1>0.33</x1>
    <y1>0.0</y1>
    <x2>0.42</x2>
    <y2>0.095</y2>
   </texture>
   <w>25</w>
   <h>19</h>
  </layer>
  <transformations>
   <transformation>
    <type>x-shift</type>
    <offset>50</offset>
   </transformation>
  </transformations>
 </layer>

  <layer>
   <name>background reverser</name>
   <texture>
    <path>Aircraft/Concorde/Panels/Instruments/Textures/concorde-blue-rev.gb</path>
    <x1>0.0</x1>
    <y1>0.1</y1>
    <x2>1.0</x2>
    <y2>0.9</y2>
   </texture>
    <w>25</w>
    <h>19</h>
   <transformations>
    <transformation>
     <type>x-shift</type>
     <offset>50</offset>
    </transformation>
   </transformations>
  </layer>

 </layers>

</PropertyList>
