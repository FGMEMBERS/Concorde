<?xml version="1.0"?>

<!-- Concorde forward brakes overheat :

     - more than 220 deg.
     - test sends highest brake temperature.
-->

<PropertyList>
 <name>Forward brakes overheat</name>
 <w-base>52</w-base>
 <h-base>104</h-base>

 <params>
  <engine-num>/systems/engines/engine[0]/engine-num</engine-num>
  <temp-degc>/systems/hydraulic/brakes/temperature-degc</temp-degc>
 </params>


 <layers>
<!-- translucent lens -->  
  <layer>
   <name>Alarm light</name>
   <type>switch</type>
    <layer>
     <name>off</name>
     <type>group</type>
     <condition>
      <or include="concorde-cond-voltage-bulb.xml">
       <and>
        <or include="concorde-cond-test-brakes.xml"/>        <!-- bug ? -->
        <less-than>
         <property alias="../../../../../../../../params/temp-degc"/>
         <value>220</value>
        </less-than>
       </and>
      </or>
     </condition>

     <layer include="concorde-bulb-off.xml">
      <w>104</w>
      <h>52</h>
     </layer>
     <layer>
      <name>background off</name>
      <texture>
       <path>Aircraft/Concorde/Panels/Instruments/Textures/concorde-red-fwd.rgb</path>
       <x1>0.0</x1>
       <y1>0.28</y1>
       <x2>1.0</x2>
       <y2>0.70</y2>
      </texture>
      <w>104</w>
      <h>52</h>
     </layer>
    </layer>

    <layer>
     <name>on</name>
     <type>group</type>

     <layer include="concorde-bulb-on.xml">
      <w>104</w>
      <h>52</h>
     </layer>
     <layer>
      <name>background on</name>
      <texture>
       <path>Aircraft/Concorde/Panels/Instruments/Textures/concorde-red-fwd.rgb</path>
       <x1>0.0</x1>
       <y1>0.28</y1>
       <x2>1.0</x2>
       <y2>0.70</y2>
      </texture>
      <w>104</w>
      <h>52</h>
      <emissive>true</emissive>
     </layer>
    </layer>

    <transformations>
     <transformation>
      <type>rotation</type>
      <offset>90</offset>
     </transformation>
    </transformations>
  </layer>

 </layers>


 <actions>

  <action>
   <name>Highest temperature</name>
   <button>0</button>
   <x>-25</x>
   <y>-50</y>
   <w>50</w>
   <h>104</h>
   <binding>
    <command>property-assign</command>
    <property>/systems/hydraulic/brakes/test-degc</property>
    <property alias="../../../../params/temp-degc"/>
   </binding>
   <binding>
    <command>property-toggle</command>
    <property>/systems/hydraulic/brakes/test</property>
   </binding>
   <mod-up>
    <binding>
     <command>property-assign</command>
     <property>/systems/hydraulic/brakes/test-degc</property>
     <property>/systems/hydraulic/brakes/temp-max-degc</property>
    </binding>
    <binding>
     <command>property-toggle</command>
     <property>/systems/hydraulic/brakes/test</property>
    </binding>
    <binding>
     <command>property-toggle</command>
     <property>/instrumentation/generic/click</property>
    </binding>
   </mod-up>
  </action>

 </actions>

</PropertyList>
